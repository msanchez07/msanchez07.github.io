

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Flask &#8212; Programación de inteligencia artificial</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=c5ced968eda925caa686" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/notebook.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/notebook.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/notebook.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=c5ced968eda925caa686" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=c5ced968eda925caa686"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/js/notebook.js"></script>
    <script src="../../_static/js/notebook.js"></script>
    <script src="../../_static/js/notebook.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'markdowns/flask/primeros_pasos';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Jinja2" href="jinja.html" />
    <link rel="prev" title="APIS Rest" href="introduccion.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Programación de inteligencia artificial - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Programación de inteligencia artificial - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">PYTHON</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../introduccion.html">Lenguajes de programación</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">HERRAMIENTAS DE PROGRAMACIÓN</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../notebooks/Numpy.html">Numpy</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../pandas/pandas.html">Pandas</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../pandas/series/series.html">Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/dataframes/dataframes.html">DataFrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/dataframes/dataframes_avanzado.html">DataFrames Avanzado</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/dataframes/dataframes_dos_dataframes.html">Trabajar con varios DataFrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/dataframes/otras_operaciones.html">Otras operaciones con DataFrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/dataframes/gestion_avanzada_datos.html">Gestión avanzada de datos con Pandas</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="introduccion.html">APIS Rest</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Flask</a></li>
<li class="toctree-l2"><a class="reference internal" href="jinja.html">Jinja2</a></li>
<li class="toctree-l2"><a class="reference internal" href="db.html">Base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="swagger.html">Documentación de una api</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">EJERCICIOS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../ejercicios/pandas/ejercicios_index.html">Ejercicios pandas</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ejercicios/pandas/ejercicios_series.html">Ejercicios Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ejercicios/pandas/ejercicios1.html">Ejercicios Dataframes 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ejercicios/pandas/ejercicios2.html">Ejercicios Dataframes 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ejercicios/pandas/ejercicios3.html">Ejercicios Dataframes 3</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ejercicios/flask/ejercicios_index.html">Ejercicios flask</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ejercicios/flask/ejercicios1.html">Ejercicios flask 1</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">ANEXOS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../bibliografia.html">Bibliografía</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Flask</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variantes-de-flask">Variantes de Flask</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalacion-de-flask">Instalación de Flask</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crear-una-primera-aplicacion">Crear una primera aplicación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#routing">Routing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#escape-de-html-con-flask">Escape de html con Flask</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="flask">
<h1><a class="reference external" href="https://flask.palletsprojects.com/en/3.0.x/">Flask</a><a class="headerlink" href="#flask" title="Permalink to this heading">#</a></h1>
<p>Flask es un ligero y versátil framework web para Python que ha ganado popularidad por su simplicidad y flexibilidad. Diseñado para ser fácil de aprender y rápido de implementar, Flask proporciona las herramientas esenciales para construir aplicaciones web y APIs de manera eficiente.</p>
<p>A diferencia de algunos frameworks más completos, Flask sigue el principio de “hazlo simple”, permitiéndote elegir las herramientas y extensiones que necesitas según los requisitos específicos de tu proyecto. Esto hace que Flask sea una excelente opción tanto para principiantes como para desarrolladores experimentados que buscan un marco de trabajo ágil y fácil de entender.</p>
<p>Con Flask, puedes crear rápidamente aplicaciones web, APIs RESTful, o incluso prototipos, gracias a su enfoque minimalista y su amplia comunidad de desarrolladores. Además, Flask se integra fácilmente con otras bibliotecas y herramientas, lo que facilita la ampliación de funcionalidades según sea necesario.</p>
<section id="variantes-de-flask">
<h2>Variantes de Flask<a class="headerlink" href="#variantes-de-flask" title="Permalink to this heading">#</a></h2>
<p>Flask es conocido por su enfoque minimalista y modular, pero a lo largo del tiempo, la comunidad ha desarrollado varias extensiones y variantes que amplían las capacidades del framework base. Algunas de estas variantes y extensiones notables de Flask incluyen:</p>
<table class="table table-bordered my-table-border">
  <thead>
    <tr class="my-table-header">
      <th class="text-center my-table-header" colspan="4">VARIANTES FLASK</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="left-header" scope="row">Flask-RESTful</th>
      <td  colspan="3">Diseñada específicamente para el desarrollo de APIs RESTful, esta extensión simplifica la creación de recursos, manejo de solicitudes y respuestas, y otras tareas comunes asociadas con el desarrollo de APIs.</td>
    </tr>
     <tr>
      <th class="left-header" scope="row">Flask-SQLAlchemy</th>
      <td  colspan="3">Integra el poderoso sistema de mapeo objeto-relacional SQLAlchemy con Flask, facilitando la interacción con bases de datos SQL en aplicaciones web.</td>
    </tr>
    <tr>
      <th class="left-header" scope="row">Flask-WTF</th>
      <td  colspan="3">Proporciona integración con la extensión WTForms, simplificando la creación y validación de formularios en aplicaciones Flask.</td>
    </tr>
    <th class="left-header" scope="row">Flask-Login</th>
      <td  colspan="3">Facilita la gestión de la autenticación de usuarios y las sesiones en aplicaciones Flask, permitiendo la creación de sistemas de inicio de sesión de manera eficiente.</td>
    </tr>
     <tr>
      <th scope="row" class="left-header">Flask-SocketIO</th>
      <td  colspan="3">Agrega compatibilidad con WebSocket a Flask, lo que permite la implementación de comunicación bidireccional en tiempo real entre el servidor y el cliente.</td>
    </tr>
    <tr>
      <th scope="row" class="left-header">Flask-Admin</th>
      <td  colspan="3">Proporciona una interfaz de administración generada automáticamente para las aplicaciones Flask, facilitando la gestión de modelos de bases de datos y otros aspectos administrativos.</td>
    </tr>
    <tr>
      <th scope="row" class="left-header">Flask-Security</th>
      <td  colspan="3">Ofrece herramientas y utilidades adicionales para mejorar la seguridad en aplicaciones Flask, incluyendo funciones para la gestión de roles, autorización y protección contra ataques comunes.</td>
    </tr>
    <tr>
      <th scope="row" class="left-header">Flask-RESTPlus</th>
      <td  colspan="3">Similar a Flask-RESTful, esta extensión agrega características adicionales como documentación automática de la API mediante Swagger y funcionalidades avanzadas para facilitar la creación de APIs REST.</td>
    </tr>
    <tr>
      <th scope="row" class="left-header">Flask-CORS</th>
      <td  colspan="3">Permite el manejo de solicitudes CORS (Cross-Origin Resource Sharing) en aplicaciones Flask, lo que es esencial al construir APIs que deben ser consumidas por clientes en dominios diferentes.</td>
    </tr>
  </tbody>
</table>
<p>Estas son solo algunas de las muchas extensiones disponibles para Flask. La comunidad activa de Flask sigue contribuyendo con nuevas extensiones y herramientas, lo que hace que Flask sea aún más flexible y adecuado para una variedad de aplicaciones y escenarios de desarrollo.</p>
</section>
<section id="instalacion-de-flask">
<h2><a class="reference external" href="https://flask.palletsprojects.com/en/3.0.x/installation/">Instalación de Flask</a><a class="headerlink" href="#instalacion-de-flask" title="Permalink to this heading">#</a></h2>
<p>Para instalar Flask, puedes utilizar el administrador de paquetes de Python llamado <strong>pip</strong> (recuerda que solemos utilizar python3):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip3<span class="w"> </span>install<span class="w"> </span>Flask
</pre></div>
</div>
<p>Una vez que la instalación haya finalizado, puedes verificar que Flask esté instalado correctamente ejecutando el siguiente comando:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>flask<span class="w"> </span>--version
</pre></div>
</div>
<p>Deberías ver la versión de Flask instalada en tu sistema.</p>
<p>¡Eso es todo! Ahora tienes Flask instalado en tu entorno de desarrollo. Puedes comenzar a construir aplicaciones web y APIs utilizando este framework.</p>
</section>
<section id="crear-una-primera-aplicacion">
<h2><a class="reference external" href="https://flask.palletsprojects.com/en/3.0.x/quickstart/">Crear una primera aplicación</a><a class="headerlink" href="#crear-una-primera-aplicacion" title="Permalink to this heading">#</a></h2>
<p>Vamos a crear nuestra primera aplicación de Flask. Crea un archivo llamado <strong><a class="reference external" href="http://app.py">app.py</a></strong> y agrega el siguiente código:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="c1"># Crea una instancia de la aplicación Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># Define una ruta para la página principal</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;¡Hola, mundo! Esta es mi primera aplicación Flask.&#39;</span>

<span class="c1"># Punto de entrada para la aplicación</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Inicia la aplicación en modo de desarrollo</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>En este código, creamos una aplicación Flask mínima con una sola ruta <strong>(‘/’)</strong>. Cuando alguien accede a la página principal de la aplicación, se muestra el mensaje definido en la función <strong>home()</strong>.</p>
<p>Posteriormente, guarda el archivo y ejecuta deste tu terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>app.py
</pre></div>
</div>
<p>o con el comando:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>flask<span class="w"> </span>--app<span class="w"> </span>app<span class="w"> </span>run
</pre></div>
</div>
<p>Verás un mensaje indicando que la aplicación se está ejecutando en un servidor local. Abre tu navegador web y visita <strong><a class="reference external" href="http://localhost:5000/">http://localhost:5000/</a></strong>. Deberías ver el mensaje “¡Hola, mundo!”.</p>
<p>También podemos meter directamente código html tal y como se muestra a continuación:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;p&gt;Hello, World!&lt;/p&gt;&quot;</span>
</pre></div>
</div>
<p>Adicionalmente a esto podemos ejecutar la aplicación en modo debug para que nos muestre los errores que se producen:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>flask<span class="w"> </span>--app<span class="w"> </span>app<span class="w"> </span>run<span class="w"> </span>--debug
</pre></div>
</div>
</section>
<section id="routing">
<h2>Routing<a class="headerlink" href="#routing" title="Permalink to this heading">#</a></h2>
<p>Flask utiliza decoradores para asociar funciones con rutas específicas, lo que determina cómo responde la aplicación a las solicitudes del usuario.</p>
<p>A continuación, se muestra un ejemplo básico del enrutamiento en Flask:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;Página de inicio&#39;</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">about</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;Acerca de nosotros&#39;</span>
</pre></div>
</div>
<p>En este ejemplo, la función home() se asociará a la ruta ‘/’ y la función about() a la ruta ‘/about’. Cuando un usuario accede a estas rutas en el navegador, Flask ejecuta la función correspondiente y devuelve el resultado como respuesta al navegador.</p>
<p>Adicionalmente, podemos incluir parámetros a las rutas utilizando ángulos <strong>(&lt; y &gt;)</strong> en los decoradores. Estos valores se pasan como argumentos a la función de vista. Ejemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/user/&lt;username&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_user_profile</span><span class="p">(</span><span class="n">username</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Usuario: </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>En este caso, cualquier ruta que coincida con <strong>/user/<username></strong> invocará la función show_user_profile(username) y pasará el valor de username como argumento.</p>
<p>Flask convertira automáticamente cualquier variable que coincida con los siguientes tipos:</p>
<table class="table table-bordered my-table-border">
  <tbody>
    <tr>
      <th class="left-header" scope="row">string</th>
      <td  colspan="3">(predeterminado) acepta cualquier texto sin barra</td>
    </tr>
     <tr>
      <th class="left-header" scope="row">int</th>
      <td  colspan="3">Acepta enteros positivos.</td>
    </tr>
    <tr>
      <th class="left-header" scope="row">float</th>
      <td  colspan="3">Acepta números decimales positivos.</td>
    </tr>
    <th class="left-header" scope="row">path</th>
      <td  colspan="3">Como strings pero también acepta barras</td>
    </tr>
     <tr>
      <th scope="row" class="left-header">uuid</th>
      <td  colspan="3">Acepta strings de tipo uuid</td>
    </tr>
  </tbody>
</table>
<p>Además de esto, puedes especificar métodos HTTP permitidos para una ruta y también asociar varias rutas a una sola función de vista. Ejemplo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/contact&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/support&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">contact_or_support</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Formulario de contacto enviado&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Página de soporte&#39;</span>
</pre></div>
</div>
<p>En este ejemplo, la función contact_or_support() maneja las rutas /contact y /support con diferentes métodos HTTP.</p>
</section>
<section id="escape-de-html-con-flask">
<h2>Escape de html con Flask<a class="headerlink" href="#escape-de-html-con-flask" title="Permalink to this heading">#</a></h2>
<p>Flask proporciona una función llamada <strong>escape()</strong> que puedes usar para realizar el escape de HTML. Esta función se utiliza para convertir caracteres especiales en entidades HTML, evitando así posibles ataques de inyección de código.</p>
<p>Aquí hay un ejemplo de cómo usar la función escape() en una plantilla de Flask:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">escape</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">():</span>
    <span class="c1"># Mensaje con contenido potencialmente peligroso</span>
    <span class="n">mensaje_peligroso</span> <span class="o">=</span> <span class="s1">&#39;&lt;script&gt;alert(&quot;¡Esto es un ataque!&quot;);&lt;/script&gt;&#39;</span>

    <span class="c1"># Escape de HTML para evitar la ejecución de scripts maliciosos</span>
    <span class="n">mensaje_escaped</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="n">mensaje_peligroso</span><span class="p">)</span>

    <span class="c1"># Renderiza la plantilla y pasa el mensaje escapado</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">mensaje</span><span class="o">=</span><span class="n">mensaje_escaped</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;es&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Flask HTML Escaping<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Mensaje Escapado:<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ mensaje | safe }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>En este ejemplo, el filtro safe se utiliza para indicar a Jinja que confíe en el contenido HTML y no lo escape nuevamente. Ten en cuenta que debes usar safe con precaución y asegurarte de que el contenido que estás marcando como seguro sea seguro de verdad, para evitar problemas de seguridad.</p>
<p>Al aplicar este enfoque, te aseguras de que cualquier contenido potencialmente peligroso que se incluya en la página no se ejecute como código JavaScript y, en cambio, se muestre como texto simple.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./markdowns/flask"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="introduccion.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">APIS Rest</p>
      </div>
    </a>
    <a class="right-next"
       href="jinja.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Jinja2</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variantes-de-flask">Variantes de Flask</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalacion-de-flask">Instalación de Flask</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#crear-una-primera-aplicacion">Crear una primera aplicación</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#routing">Routing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#escape-de-html-con-flask">Escape de html con Flask</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Manuel Sánchez Gomis
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=c5ced968eda925caa686"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>